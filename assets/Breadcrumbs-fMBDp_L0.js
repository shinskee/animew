import{n as S,m as b,o as A,r as e,j as o,d as m,E as z,s as j,B as v,c as N,p as B}from"./index-CezPYTQ0.js";import{G}from"./GridList-Bflcttc3.js";const $=S.injectEndpoints({endpoints:s=>({getTitle:s.query({query:i=>`title?id=${i}&playlist_type=array`,async onQueryStarted(i,{dispatch:n,queryFulfilled:t}){const r=await t,c=r.data,a=r.data.player.list,u=r.data.player.host;n(b.setEpisodesList(a)),n(b.setHost(u)),n(A.setTitleDescription(c))}})})}),ce=$.useGetTitleQuery,W="_episodes_vafby_1",T="_isActive_vafby_7",q="_filter_vafby_11",x={episodes:W,isActive:T,filter:q},H="_episodesList_10ys3_1",g={episodesList:H},I=e.memo(({cls:s,sort:i,episodes:n,type:t,currentEpisode:r})=>(e.useEffect(()=>{},[i]),o.jsx("section",{className:m(g.episodesList,{},[g[s],"container"]),children:o.jsx(G,{cls:g.grid,columns:"five",type:t,children:n==null?void 0:n.map(c=>o.jsx(z,{currentEpisode:r,episode:c,type:t},c.episode))})}))),R=s=>e.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:48,height:48,viewBox:"0 0 48 48",...s},e.createElement("g",{fill:"none",stroke:"#000000",strokeLinejoin:"round",strokeWidth:4},e.createElement("rect",{width:36,height:36,x:6,y:6,rx:3}),e.createElement("path",{d:"M13 13h8v8h-8zm14 0h8v8h-8zM13 27h8v8h-8zm14 0h8v8h-8z"}))),D=e.memo(({cls:s})=>o.jsx(R,{className:m(j.icon,{},[s])})),V=e.memo(({setTypeList:s,typeList:i})=>{const n=e.useCallback(()=>{s("grid")},[s]);return o.jsx(v,{onClick:n,type:"icon",tooltip:"Плиткой",isActive:i==="grid"&&"isActive",children:o.jsx(D,{})})}),F=s=>e.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:48,height:48,viewBox:"0 0 48 48",...s},e.createElement("g",{fill:"none"},e.createElement("path",{d:"M20 24h24z",clipRule:"evenodd"}),e.createElement("path",{stroke:"#000000",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:4,d:"M20 24h24"}),e.createElement("path",{d:"M20 38h24z",clipRule:"evenodd"}),e.createElement("path",{stroke:"#000000",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:4,d:"M20 38h24"}),e.createElement("path",{d:"M20 10h24z",clipRule:"evenodd"}),e.createElement("path",{stroke:"#000000",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:4,d:"M20 10h24"}),e.createElement("path",{stroke:"#000000",strokeLinejoin:"round",strokeWidth:4,d:"M4 34h8v8H4zm0-14h8v8H4zM4 6h8v8H4z"}))),Q=e.memo(({cls:s})=>o.jsx(F,{className:m(j.icon,{},[s])})),P=e.memo(({cls:s,setTypeList:i,typeList:n})=>{const t=e.useCallback(()=>{i("list")},[i]);return o.jsx(v,{onClick:t,type:"icon",tooltip:"Списком",isActive:n==="list"&&"isActive",children:o.jsx(Q,{})})}),J="_sort_1uf9o_1",K="_rotate180_1uf9o_6",O="_rotate0_1uf9o_7",y={sort:J,rotate180:K,rotate0:O},U=s=>e.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:48,height:48,viewBox:"0 0 48 48",...s},e.createElement("path",{fill:"none",stroke:"#000000",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:4,d:"M23 8h20M14 41l-8-8m8-26v34m9-23h16M23 28h12M23 38h8"})),X=e.memo(({cls:s})=>o.jsx(U,{className:m(j.icon,{},[s])})),Y=e.memo(({cls:s,typeList:i,chunk:n,sort:t,setEpisodes:r,setSort:c,data:a=[]})=>{e.useEffect(()=>{i==="list"&&t==="old"&&r([...a].sort((d,l)=>l.episode-d.episode).slice(0,n)),i==="list"&&t==="new"&&r([...a].sort((d,l)=>d.episode-l.episode).slice(0,n)),i==="grid"&&t==="old"&&r([...a].sort((d,l)=>l.episode-d.episode)),i==="grid"&&t==="new"&&r([...a].sort((d,l)=>d.episode-l.episode))},[n,a,r,t,i]);const u=e.useCallback(()=>{t==="old"&&c("new"),t==="new"&&c("old")},[c,t]);return o.jsx(v,{onClick:u,type:"icon",tooltip:t==="old"?"Сначала старые":"Сначала новые",children:o.jsx(X,{cls:t==="old"?y.rotate180:y.rotate0})})}),Z="_input_jh2qq_1",ee={input:Z},w={},te=e.memo(({cls:s,placeholder:i,type:n,style:t,name:r,label:c="",value:a,onChange:u})=>o.jsxs("div",{className:m(w.input,{},[w[t],[s]]),children:[o.jsx("label",{htmlFor:r,children:c}),o.jsx("input",{placeholder:i,type:n,name:r,id:r,value:a,onChange:u})]})),se=e.memo(({setSearchValue:s,searchValue:i})=>{const n=e.useCallback(t=>{s(t.target.value)},[s]);return o.jsx(te,{placeholder:"Введите номер эпизода...",cls:ee.input,onChange:t=>n(t),type:"number",name:"search",value:i})}),le=e.memo(({cls:s,currentEpisode:i=""})=>{const n=N(h=>{var _;return(_=h==null?void 0:h.episodes)==null?void 0:_.episodesList}),[t,r]=e.useState(n),[c,a]=e.useState(10),[u,d]=e.useState(t),[l,f]=e.useState("grid"),[k,L]=e.useState("old"),[p,C]=e.useState("");e.useEffect(()=>{d(t==null?void 0:t.filter(h=>h.episode.toString().includes(p)))},[t,p]);const M=e.useCallback(()=>{a(h=>h+5)},[]);return o.jsxs("section",{className:m(x.episodes,{},[x[s],"container"]),children:[o.jsxs("div",{className:x.filter,children:[o.jsx(se,{setSearchValue:C,searchValue:p}),o.jsx(Y,{typeList:l,chunk:c,data:n,setEpisodes:r,sort:k,setSort:L}),o.jsx(V,{setTypeList:f,typeList:l}),o.jsx(P,{setTypeList:f,typeList:l})]}),o.jsx(I,{currentEpisode:i,searchValue:p,sort:k,episodes:u,type:l}),l==="list"&&c<n.length&&o.jsx(v,{type:"text",align:"center",onClick:M,children:"Показать еще"})]})}),oe="_breadcrumbs_1gcdy_1",ne="_crumb_1gcdy_21",E={breadcrumbs:oe,crumb:ne},ae=e.memo(({cls:s})=>{const i=B();console.log(i);const n=i.filter(t=>{var r;return!!((r=t.handle)!=null&&r.crumb)}).map(t=>typeof t.handle.crumb=="function"?t.handle.crumb(t):t.handle.crumb);return o.jsx("div",{className:m(E.breadcrumbs,{},[s,"container"]),children:n.map((t,r)=>o.jsx("div",{className:E.crumb,children:t},r))})});export{ae as B,le as E,ce as u};
