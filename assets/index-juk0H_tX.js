import{u as x,a as h,b as j,r,c as f,j as s}from"./index-CFvUuHqS.js";import{E as v}from"./EpisodesList-CId0U3kB.js";import"./loader-CNtuLgT5.js";const N="_titlePage_9mzu0_1",k="_main_9mzu0_7",z="_topBlock_9mzu0_12",F="_info_9mzu0_22",b="_poster_9mzu0_27",B="_description_9mzu0_35",E="_titleEn_9mzu0_39",g="_infoBlock_9mzu0_42",y="_buttonFavorite_9mzu0_48",W="_buttonUnFavorite_9mzu0_49",P="_playerWrapper_9mzu0_88",C="_selectWrapper_9mzu0_103",U="_select_9mzu0_103",i={titlePage:N,main:k,topBlock:z,info:F,poster:b,description:B,titleEn:E,infoBlock:g,buttonFavorite:y,buttonUnFavorite:W,playerWrapper:P,selectWrapper:C,select:U};function T(){const{id:c}=x(),{favorites:l,isChanging:d}=h(t=>t.favorites),{data:e,isLoading:p,isError:m,isSuccess:o}=j(c),[n,a]=r.useState(!1),{onClickAddFavorite:u,onClickDeleteFavorite:_}=f();return r.useEffect(()=>{var t;o&&(document.title=(t=e==null?void 0:e.name)==null?void 0:t.main)},[o]),r.useEffect(()=>(l.map(t=>{t.id===Number(c)&&a(!0)}),()=>{a(!1)}),[d]),p?s.jsx("div",{children:"...Загрузка"}):m?s.jsx("div",{children:"Ошибка, попробуйте позже"}):s.jsxs("main",{className:`${i.titlePage} container`,children:[e?s.jsxs("div",{className:i.main,children:[s.jsxs("div",{className:i.topBlock,children:[s.jsx("div",{className:i.poster,children:s.jsx("img",{src:`https://anilibria.top${e.poster.src}`,alt:""})}),s.jsxs("div",{className:i.info,children:[s.jsx("p",{className:i.titleEn,children:e.name.english}),s.jsx("h2",{className:i.title,children:e.name.main}),s.jsx("div",{className:i.infoBlock,children:s.jsxs("p",{children:["Жанры : ",s.jsx("span",{children:e.genres.map(t=>s.jsxs("span",{children:[" ",t.name]},t.id))})]})}),s.jsx("div",{className:i.infoBlock,children:s.jsxs("p",{children:["Год : ",s.jsx("span",{children:e.year})]})}),s.jsx("div",{className:i.infoBlock,children:s.jsxs("p",{children:["Сезон : ",s.jsx("span",{children:e.season.description})]})}),s.jsx("div",{className:i.infoBlock,children:s.jsxs("p",{children:["Статус : ",s.jsx("span",{children:e.is_in_production?"Выходит":"Завершен"})]})}),s.jsx("div",{className:i.infoBlock,children:s.jsxs("p",{children:["Тип : ",s.jsx("span",{children:e.type.description})]})}),s.jsx("button",{className:n?i.buttonFavorite:i.buttonUnFavorite,onClick:n?()=>_(e.id):()=>u(e.id,e),children:n?"Удалить из избранного":"Добавить в избранное"})]})]}),s.jsx("div",{className:i.description,children:s.jsx("p",{children:e.description})})]}):s.jsx("div",{children:"...Загрузка"}),s.jsx("section",{className:`${i.playerWrapper}`,children:s.jsx(v,{})})]})}export{T as default};
