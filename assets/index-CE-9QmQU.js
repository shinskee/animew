import{u as j,a as h,b as f,r as o,c as v,j as s,L as l}from"./index-CKmD69P3.js";import{E as N}from"./EpisodesList-C5jjMozX.js";import"./index-C0wSlaAT.js";const k="_titlePage_9mzu0_1",z="_main_9mzu0_7",F="_topBlock_9mzu0_12",b="_info_9mzu0_22",B="_poster_9mzu0_27",E="_description_9mzu0_35",g="_titleEn_9mzu0_39",y="_infoBlock_9mzu0_42",W="_buttonFavorite_9mzu0_48",P="_buttonUnFavorite_9mzu0_49",C="_playerWrapper_9mzu0_88",L="_selectWrapper_9mzu0_103",U="_select_9mzu0_103",i={titlePage:k,main:z,topBlock:F,info:b,poster:B,description:E,titleEn:g,infoBlock:y,buttonFavorite:W,buttonUnFavorite:P,playerWrapper:C,selectWrapper:L,select:U};function A(){const{id:r}=j(),{favorites:p,isChanging:d}=h(t=>t.favorites),{data:e,isLoading:m,isError:u,isSuccess:a}=f(r),[n,c]=o.useState(!1),{onClickAddFavorite:_,onClickDeleteFavorite:x}=v();return o.useEffect(()=>{var t;a&&(document.title=(t=e==null?void 0:e.name)==null?void 0:t.main)},[a]),o.useEffect(()=>(p.map(t=>{t.id===Number(r)&&c(!0)}),()=>{c(!1)}),[d]),m?s.jsx(l,{}):u?s.jsx("div",{children:"Ошибка, попробуйте позже"}):s.jsxs("main",{className:`${i.titlePage} container`,children:[e?s.jsxs("div",{className:i.main,children:[s.jsxs("div",{className:i.topBlock,children:[s.jsx("div",{className:i.poster,children:s.jsx("img",{src:`https://anilibria.top${e.poster.src}`,alt:""})}),s.jsxs("div",{className:i.info,children:[s.jsx("p",{className:i.titleEn,children:e.name.english}),s.jsx("h2",{className:i.title,children:e.name.main}),s.jsx("div",{className:i.infoBlock,children:s.jsxs("p",{children:["Жанры : ",s.jsx("span",{children:e.genres.map(t=>s.jsxs("span",{children:[" ",t.name]},t.id))})]})}),s.jsx("div",{className:i.infoBlock,children:s.jsxs("p",{children:["Год : ",s.jsx("span",{children:e.year})]})}),s.jsx("div",{className:i.infoBlock,children:s.jsxs("p",{children:["Сезон : ",s.jsx("span",{children:e.season.description})]})}),s.jsx("div",{className:i.infoBlock,children:s.jsxs("p",{children:["Статус : ",s.jsx("span",{children:e.is_in_production?"Выходит":"Завершен"})]})}),s.jsx("div",{className:i.infoBlock,children:s.jsxs("p",{children:["Тип : ",s.jsx("span",{children:e.type.description})]})}),s.jsx("button",{className:n?i.buttonFavorite:i.buttonUnFavorite,onClick:n?()=>x(e.id):()=>_(e.id,e),children:n?"Удалить из избранного":"Добавить в избранное"})]})]}),s.jsx("div",{className:i.description,children:s.jsx("p",{children:e.description})})]}):s.jsx(l,{}),s.jsx("section",{className:`${i.playerWrapper}`,children:s.jsx(N,{})})]})}export{A as default};
