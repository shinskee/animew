import{t as h,u,a as f,b as v,r as n,c as N,j as e,L as l}from"./index-DsmXJogq.js";import{E as k}from"./EpisodesList--Ll2pHPK.js";const F="_titlePage_me25e_1",b="_main_me25e_6",B="_topBlock_me25e_11",E="_info_me25e_21",g="_poster_me25e_26",y="_description_me25e_34",P="_titleEn_me25e_38",W="_infoBlock_me25e_41",C="_buttonFavorite_me25e_47",L="_buttonUnFavorite_me25e_48",S="_playerWrapper_me25e_87",T="_selectWrapper_me25e_102",U="_select_me25e_102",i={titlePage:F,main:b,topBlock:B,info:E,poster:g,description:y,titleEn:P,infoBlock:W,buttonFavorite:C,buttonUnFavorite:L,playerWrapper:S,selectWrapper:T,select:U};function $(){const{id:c}=u(),{favorites:d,isChanging:p}=f(t=>t.favorites),{data:s,isLoading:m,isError:_,isSuccess:a}=v(c),[o,r]=n.useState(!1),{onClickAddFavorite:x,onClickDeleteFavorite:j,isFavoriteSuccess:w}=N();return n.useEffect(()=>{window.scrollTo(0,0)},[]),n.useEffect(()=>{var t;a&&(document.title=(t=s==null?void 0:s.name)==null?void 0:t.main)},[a]),n.useEffect(()=>(d.map(t=>{t.id===Number(c)&&r(!0)}),()=>{r(!1)}),[p]),m?e.jsx(l,{}):_?e.jsx("div",{children:"Ошибка, попробуйте позже"}):e.jsxs("main",{className:`${i.titlePage} container`,children:[s?e.jsxs("div",{className:i.main,children:[e.jsxs("div",{className:i.topBlock,children:[e.jsx("div",{className:i.poster,children:e.jsx("img",{src:`https://anilibria.top${s.poster.src}`,alt:""})}),e.jsxs("div",{className:i.info,children:[e.jsx("p",{className:i.titleEn,children:s.name.english}),e.jsx("h2",{className:i.title,children:s.name.main}),e.jsx("div",{className:i.infoBlock,children:e.jsxs("p",{children:["Жанры : ",e.jsx("span",{children:s.genres.map(t=>e.jsxs("span",{children:[" ",t.name]},t.id))})]})}),e.jsx("div",{className:i.infoBlock,children:e.jsxs("p",{children:["Год : ",e.jsx("span",{children:s.year})]})}),e.jsx("div",{className:i.infoBlock,children:e.jsxs("p",{children:["Сезон : ",e.jsx("span",{children:s.season.description})]})}),e.jsx("div",{className:i.infoBlock,children:e.jsxs("p",{children:["Статус : ",e.jsx("span",{children:s.is_in_production?"Выходит":"Завершен"})]})}),e.jsx("div",{className:i.infoBlock,children:e.jsxs("p",{children:["Тип : ",e.jsx("span",{children:s.type.description})]})}),e.jsx("button",{className:o?i.buttonFavorite:i.buttonUnFavorite,onClick:o?()=>j(s.id):()=>x(s.id,s),children:o?"Удалить из избранного":"Добавить в избранное"})]})]}),e.jsx("div",{className:i.description,children:e.jsx("p",{children:s.description})})]}):e.jsx(l,{}),e.jsx("section",{className:`${i.playerWrapper}`,children:e.jsx(k,{})})]})}const G=h($);export{G as default};
